---
import Layout from '../layouts/Layout.astro';
import NavbarBlog from '../components/Navbar.astro';
import { getCollection } from 'astro:content';
import BlogPost from '../components/BlogPost.astro';

// Obtener todos los posts y ordenarlos por fecha
const posts = await getCollection('posts');
posts.sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime());

//Obtener titulos de los posts destacados y filtrarlos
const titlesToInclude = ['TITULO 1', 'TITULO 2'];

const featuredPosts = posts.filter(post => 
    titlesToInclude.includes(post.data.title)
);

// Nuevo array de posts SIN los destacados
const remainingPosts = posts.filter(post => 
    !titlesToInclude.includes(post.data.title)
);
---

<Layout title="Blog - Type of Legal">
    <NavbarBlog/>
    <main>
        {
            remainingPosts.map((post) => {
                return (
                    <BlogPost post={post} />
                );
            })
        }
    </main>

</Layout>


<style is:global>
    * {
	font-family: sans-serif;
	overflow: visible !important;

}
main{
	margin-top: 95px;
}
</style>
